<html>
<head>
<title>Home</title>
  <link rel="manifest" href="/manifest.json">
  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
  <script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(["init", {
      appId: "ddf59c73-f015-44ec-afc3-0001b1055545",
      autoRegister: true,
      notifyButton: {
        enable: false /* Set to false to hide */
      }
    }]);
    console.log(OneSignal);
    console.log(OneSignal.appId);
    OneSignal.push(["getRegistrationId", function(registrationId) {
    console.log("OneSignal Registration ID:", registrationId);
    // (Output) OneSignal Registration ID: cPMqRjFKn6U:APA91bGgr5-3ny36bQxBCA7uAoQIDsUtX6q7CL4FcsDiHlGgDh471C8cEktPYzTsO2OaOCeZmB0gLSSErzwM3fcZWI9LFkW8LEQzBVw7UbQ8NtlBF0dTADoYLF87xXSztUjAkFLP5_Vy
    }]);
    OneSignal.push(function() {
      /* These examples are all valid */
      OneSignal.getUserId(function(userId) {
      console.log("OneSignal User ID:", userId);
      // (Output) OneSignal User ID: 270a35cd-4dda-4b3f-b04e-41d7463a2316    
    });
               
    OneSignal.getUserId().then(function(userId) {
      var uID=userId;
      console.log("OneSignal User ID:", userId);
      console.log("uID is : ",uID);
      showCode(uID);
      // (Output) OneSignal User ID: 270a35cd-4dda-4b3f-b04e-41d7463a2316    
    });
  });
    
    function showCode(uID) {
                console.log('endpoint2:', uID);
                document.getElementById('qrcode').src='https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl='+uID+'&choe=UTF-8';
                var t = document.createTextNode("Please Scan this QR Code using connected App and continue. You may close this page afterwards.");
                document.body.appendChild(t);
                }
  </script>
</head>
<body>Welcome
  <br/> <img id = "qrcode" src="" alt="">
  </body>
</html>
